# 6장. 객체 지도

|        길 묻기         |        지도        |
|:-------------------:|:----------------:|
|  전통적인 소프트웨어 개발 방법   |    객체지향 개발 방법    |
| 기능적, 해결 방법 지향적인 접근법 | 구조적, 문제 지향적인 접근법 |
|     구체적인 기능 제공      |       구체적X       |
|       재활용 불가        |   재사용 가능. 범용적    |
|  자주 변경되는 **기능** 중심  |  안정적인 **구조** 중심  |

> 자주 변경되는 기능이 아니라 안정적인 구조를 기반으로 한 역할, 책임, 협력 구축이 변경에 대해 더 안정적이다.

## 기능 설계 대 구조 설계

- 기능 : 소프트웨어의 필요조건
    - 사용자가 필요로 하는 시스템의 서비스
    - 책임을 수행하는 시스템의 행위
- 구조 : 변경, 확장에 유연한 설계를 위한 기반
    - 시스템의 기능을 구현하기 위한 기반
    - 기능 변경을 수용할 수 있도록 안정적이어야 한다.

1️⃣ domain modeling : 구조를 수집, 표현하기 위한 기법
2️⃣ usecase modeling : 기능을 수집, 표현하기 위한 기법

## 1️⃣ 안정적인 재료 : 구조 `domain modeling`

도메인 : 사용자가 프로그램을 사용하는 목적 (대상 분야)

모델 : 추상화의 결과물

도메인 모델 : 사용자가 프로그램을 사용하는 대상 영역에 대한 지식을 단순화한 형태 = 멘탈 모델 (사용자 모델이자, 디자인 모델이자, 시스템 이미지)

- 객체지향은 객체를 사용하여 멘탈 모델과 가장 유사하게 코드를 구조화할 수 있다.
- 현실 객체와 소프트웨어 객체 사이의 표현적 차이를 줄여준다. 멘탈 모델과 유사해진다.
- 안정적인 구조를 제공한다. 소프트웨어의 유지보수성을 높여준다. 변경에 유연한 설계를 함.
    - 안정적인 구조 : 비즈니스의 기본 개념과 관계를 포함한다. (비즈니스 정책이 크게 바뀌지 않는 한 객체간의 관계는 일정하게 유지된다.)

<aside>

    📌 '도메인 모델은 소프트웨어의 안정적인 구조는 제공하겠지만 객체지향에서 지금까지 중시해 왔던 책임-주도 설계와 멀어진 게 아닐까?' 라는 생각을 했다.
    
    근데 뒤에 2️⃣, 3️⃣ 내용까지 보고 오해가 풀림!

</aside>

## 2️⃣ 불안정한 재료 : 기능 `usecase`

유스케이스 : **사용자의 목표를 달성**하기 위해 사용자와 시스템 간의 **상호작용의 흐름**을 **텍스트**로 정리한 것

- 사용자 행위 중심
- 사용자 목표와 관련된 모든 시나리오들의 집합 (시나리오 = 유스케이스 인스턴스)
- 단순 기능 나열 X
- 연관된 기능들의 집합, 형식 O
- 사용자 인터페이스의 속성/구성을 신경쓰지 않음. 시스템의 행위에만 집중
- 내부 설계 관련 정보 포함 X (캡슐화)

## 3️⃣ 재료 합치기 : 기능과 구조의 통합 `RDD`
도메인 모델 + 유스케이스 + 책임 주도 설계

#### 책임 주도 설계
1. `유스케이스`를 통해 시스템 전체의 책임을 파악한다.
2. `도메인 모델`을 기반으로 책임을 세분화하고, 객체들에게 책임을 할당한다.
3. 책임을 메서드로, 속성을 인스턴스 변수로 변환한 클래스를 구현한다. `클래스 다이어그램`
<aside>

    📌 책임 할당의 기본 원칙 : 책임을 수행하는 데 필요한 정보를 가진 객체에게 그 책임을 할당한다.

      ex. 이자율 객체가 이자를 계산하는 책임을 갖는다.

</aside>

<aside>

    ✋🏻 Q. 왜 예금 프로그램을 구현하는 과정에서 인터페이스가 아니라 추상 클래스를 썼을까?

    Interest(이자) 객체를 생성한 후 속성으로 포함해서 그런건가?

</aside>

도메인 모델 변경과 코드 변경은 서로 유추가 가능하다.
![](../image/도메인모델_코드.png)


