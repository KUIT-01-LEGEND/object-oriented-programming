# 객체, 그리고 이상한 나라

- 객체는 상태를 가지며, 상태는 변경 가능하다.
- 상태를 결정하는 것은 행동이지만, 행동의 결과를 결정하는 것은 상태다.
- 행동의 순서가 결과에 영향을 미침
- 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.

# 객체, 그리고 소프트웨어 나라

## 상태

- 상태를 이용하면 과거의 모든 행동 이력을 설명하지 않고도 행동의 결과를 쉽게 예측하고 설명할 수 있다

### 상태와 프로퍼티

- 상태는 특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 특징을 표현한다.
- 객체의 모든 상태는 단순한 값과 객체의 조합으로 표현할 수 있다.
- 이때 객체의 상태를 구성하는 모든 특징을 통틀어 객체의 프로퍼티라고 한다.
- 일반적으로 프로퍼티는 변경되지 않고 고정되기 때문에 ‘정적’이다.
- 반면 프로퍼티 값은 시간이 흐름에 따라 변경되기 때문에 ‘동적’이다.
- **객체의 프로퍼티는 단순한 값인 속성과 다른 객체를 참조하는 링크의 두 가지 종류의 조합으로 표현할 수 있다.**
- 행동은 다른 객체로 하여금 간접적으로 객채의 상태를 변경하는 것을 가능하게 함
- 객체지향의 기본 사상은 상태와 상태를 조작하기 위한 행동을 하나의 단위로 묶는 것임
- 객체는 스스로의 **행동에 의해서만 상태가 변경되는 것을 보장**함으로써 **객체의 자율성을 유지**함

## 행동

### 상태와 행동

- 객체의 행동은 객체의 상태를 변경시키지만 행동의 결과는 객체의 상태에 의존한다.
- 상태와 행동 사이의 관계
    1. 객체의 행동은 상태에 영향을 받는다.
    2. 객체의 행동은 상태를 변경시킨다.
- 행동을 두 가지 관점에서 서술
    1. 상호작용이 현재의 상태에 어떤 방식으로 의존하는가
    2. 상호작용이 어떻게 현재의 상태를 변경시키는가

### 협력과 행동

- 객체의 행동으로 인해 발생하는 결과
    1. 객체 자신의 상태 변경
    2. 행동 내에서 협력하는 다른 객체에 대한 메세지 전송
- 객체는 행동을 통해 다른 객체와의 협력에 참여하므로 행동의 외부에 가시적이어야 함

### 상태 캡슐화

- 객체의 행동을 유발하는 것은 외부로부터 전달된 메시지지만 객체의 상태를 변경할지 여부는 객체 스스로 결정함
- 객체가 외부에 노출하는 것은 행동뿐이며 외부에서 접근할 수 있는 유일한 방법 역시 행동뿐임
- 상태를 외부에 노출시키지 않고 행동을 경계로 캡슐화하는 것은 결과적으로 객체의 자율성을 높이고 협력을 단순하고 유연하게 만듦.

## 식별자

- 식별자란 어떤 객체를 다른 객체와 구분하는 데 사용하는 객체의 프로퍼티임
- 값은  불변 상태를 가지기 때문에 상태를 이용한 동등성 검사를 통해 두 인스턴스 비교함
- 객체는 상태가 변경될 수 있기 때문에 식별자를 이용한 동일성 검사를 통해 두 인스턴스 비교함

## 기계로서의 객체

- 객체 기계가 제공하는 버튼을 통해서만 상태에 접근할 수 있다는 점은 객체의 캡슐화를 강조
- 두 기계는 외부에 동일한 행동을 제공하고 현재 시점에 상태 역시 동일하더라도 두 기계는 구분된 별개의 객체로 인식함
    - 이는 객체가 상태와 무관하게 구분 가능한 식별자를 가진다는 것
- 링크를 통해 연결된 두 기계가 메시지 전송을 통해 협력함
- 객체를 기계로서 바라보는 관점은 상태, 행동, 식별자에 대한 시각적인 이미지를 제공하고 캡슐화와 메시지를 통한 협력 관계를 효과적으로 설명함

## 행동이 상태를 결정한다

- 상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼침

## 은유와 객체

- 객체지향 세계는 현실 세계의 단순한 모방이 아니다.

### 의인화

- 현실 객체와 소프트웨어 객체 사이의 가장 큰 차이는 현실 속에서는 수동적인 존재가 소프트웨어 객체로 구현될 때는 능동적으로 변한다는 것임
- 소프트웨어 객체가 현실 객체의 부분적인 특징을 모방하는 것이 아닌 현실 객체가 가지지 못한 추가적인 능력을 보유하게 됨
- 현실 객체보다 더 많은 일을 할 수 있는 소프트웨어 객체의 특징을 **의인화**라고 부름
- 객체지향 세계은 현실의 추상화가 아니라 현실의 모습을 조금 참조할 뿐 궁극적인 목적은 현실과 전혀 다른 새로운 세계를 창조하는 것임

### 은유

- 현실 세계와 객체지향 세게 사이의 관계를 좀 더 정확하게 설명할 수 있는 단어는 **은유**이다.
- 현실 속의 객체의 이미 일부가 소프트웨어 객체로 전달되기 때문에 프로그램 내의 객체는 현실 속의 객체에 대한 은유이다
- 은유 관계에 있는 실제 객체의 이름을 소프트웨어 객체의 이름으로 사용하면 표현적 차이를 줄여 소프트웨어의 구조를 쉽게 예측할 수 있다 → 이해하기 쉽고 유지보수 용이한 소프트웨어 창조 가능

> 객체지향 설계자로서 목적은 현실 모방이 아님.
객체의 특성을 잘 표현할 수 있도록 현실 속 객체의 이름를 이용해 객체를 묘사하라.
그렇지 않다면 깔끔하게 현실을 무시하고 자유롭게 우리만의 새로운 세계를 창조하자.
>