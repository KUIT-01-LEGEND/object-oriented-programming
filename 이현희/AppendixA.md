# 7장

## 요약
1. 객체지향설계와 그 결과물인 코드는 3가지의 관점이 있다. 개념, 명세, 구현
2. 도메인 모델 ~ 최종 구현까지는 1. 도메인 만들기 / 2. 협력 디자인하기 / 3. 구현하기 의 단계를 거친다.

## 추상화 기법
추상화 -> 도메인의 복잡성 단순화, 직관적 멘탈 모델 제작에 도움

종류
- 분류/인스턴스화
- 일반화/특수화
- 집합/분해

분석, 설계, 구현 단계에서 일관성있게 적용가능

## 분류/인스턴스화
객체를 분류하고 범주로 묶는 것 = 객체들의 집합에 공통 "개념"을 적용하는 것<br>
개념 = 유사한 객체들에게 공통적으로 적용되는 관념<br>
분류한다 = 범주라는 렌즈로 세상을 본다 = 객체에 개념을 적용한다 = 객체를 개념을 나타내는 집합의 요소로 포함시킨다.

개념 = 공통 특성을 가진 객체의 집합<br>
개념과 타입은 아예 같은 말<br>
객체는 타입의 인스턴스임.

객체, 곧 "타입"의 3가지 정의
- 심볼 : 이름
- 내연 : 의미
- 외연 : 집합

분류의 종류
- 단일 분류 : 객체가 한 시점에 한 타입을 가짐
- 다중 분류 : 객체가 한 시점에 여러 타입을 가짐

프로그래밍 언어는 단일 분류만을 지원함.<br>
다중 분류는 다중 상속과는 다름.<br>

- 다중 상속 : 하나의 타입이 여러 슈퍼 타입을 가짐
- 다중 분류 : 하나의 타입이 아님. 하나의 객체가 여러 타입을 가짐

- 동적 분류 : 객체의 타입이 바뀔 수 있음 
- 정적 분류 : 객체의 타입이 바뀔 수 없

프로그래밍 언어는 정적분류만을 지원함.

클래스는 타입을 구현하는 방법 중 하나일 뿐.<br>
다른 방법으로는 추상 클래스, 인터페이스가 있음.

## 일반화/특수화
범주 즉 타입 간에는 계층이 있음.
상위 타입(슈퍼타입)을 하위 타입의 일반화라고 하고,
하위 타입(서브타입)을 상위 타입의 특수화라고 함.

내연의 관점에서 서브타입이 되려면(100% 규칙), 슈퍼타입의 의미를 100% 가지고 있어야 함.<br>
외연의 관점에서 서브타입이 되려면(is-a), 슈퍼타입의 부분집합이어야 함.

일반화가 되려면, 서브타입은 슈퍼타입에 구조적/행위적 순응을 해야함<br>
순응 = 대체 가능성<br>
구조적 순응은 "속성, 연관관계"가 대체가능해야 한다는 것<br>
행위적 순응은 "행위"가 대체가능해야 한다는 것

상속은 서브타이핑, 서브클래싱으로 구분됨.
- 서브타이핑 : 대체가능함. 설계유연성이 목적. =인터페이스 상속
- 서브클래싱 : 대체불가능함. 코드 재사용이 목적. =구현 상속

상속이라고 무조건 대체 가능성을 보장하는 서브타이핑이 아니고,<br>
내부적으로 그냥 코드 재사용을 위해 쓴 것일 수도 있음

가상함수로만 넘겨주면 서브타이핑인 셈이고,<br>
구현된 함수를 넘겨주면 그 함수를 재사용하기 위한 서브클래싱일 수 있음

상속 계층에서 메시지를 이해하는 법 "위임"<br>
내가 처리하지 못하는 메시지는 부모에게 넘긴다.

## 집합/분해
복잡성은 계층의 형태로 표현가능하다.<br>
중간계층이 있으면 더 쉽게 이해할 수 있다.

집합 = 부분으로부터 전체를 만들어내는 것
분해 = 그 반대

중간계층이 여러 개를 하나로 표현해줌 = 추상화
중간계층 아래는 굳이 볼 필요 없음 = 캡슐화

- 합성관계 : 부분과 전체 관계. 전체가 사라지면 부분도 사라짐(생명주기)
- 연관관계 : 부분과 전체가 아닌 그냥 관계. 한쪽이 사라져도, 다른 한쪽이 사라지지 않음(생명주기)